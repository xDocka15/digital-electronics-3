\hypertarget{a00023}{}\doxysubsection{twi.\+h File Reference}
\label{a00023}\index{twi.h@{twi.h}}
{\ttfamily \#include $<$avr/io.\+h$>$}\newline
\doxysubsubsection*{Macros}
\begin{Indent}\textbf{ Definition of frequencies}\par
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{a00046_ga43bafb28b29491ec7f871319b5a3b2f8}{F\+\_\+\+C\+PU}}~16000000
\begin{DoxyCompactList}\small\item\em C\+PU frequency in Hz required T\+W\+I\+\_\+\+B\+I\+T\+\_\+\+R\+A\+T\+E\+\_\+\+R\+EG. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga7a1c522bed64982971384489ee477bd3}{F\+\_\+\+S\+CL}}~50000
\begin{DoxyCompactList}\small\item\em I2\+C/\+T\+WI bit rate. Must be greater than 31000. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga801c158406ca2334b446e442a2debe37}{T\+W\+I\+\_\+\+B\+I\+T\+\_\+\+R\+A\+T\+E\+\_\+\+R\+EG}}~((\mbox{\hyperlink{a00046_ga43bafb28b29491ec7f871319b5a3b2f8}{F\+\_\+\+C\+PU}}/\mbox{\hyperlink{a00046_ga7a1c522bed64982971384489ee477bd3}{F\+\_\+\+S\+CL}} -\/ 16) / 2)
\begin{DoxyCompactList}\small\item\em T\+WI bit rate register value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Definition of ports and pins}\par
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{a00046_ga762c164f4acd04d3ce3627fe73e7c018}{T\+W\+I\+\_\+\+P\+O\+RT}}~P\+O\+R\+TC
\begin{DoxyCompactList}\small\item\em Port of T\+WI unit. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga3f14ed8491293d0dda1372cceaa39851}{T\+W\+I\+\_\+\+S\+D\+A\+\_\+\+P\+IN}}~4
\begin{DoxyCompactList}\small\item\em S\+DA pin of T\+WI unit. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_gac0ad8b33f1be48e211f1eeae2dd65cee}{T\+W\+I\+\_\+\+S\+C\+L\+\_\+\+P\+IN}}~5
\begin{DoxyCompactList}\small\item\em S\+CL pin of T\+WI unit. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\doxysubsubsection*{Other definitions}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{a00046_gaaf9a8abccd811954f9cc316f2b2f87b3}{T\+W\+I\+\_\+\+R\+E\+AD}}~1
\begin{DoxyCompactList}\small\item\em Mode for reading from I2\+C/\+T\+WI device. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga3b68e8e777b71520f9dbfac733774d5f}{T\+W\+I\+\_\+\+W\+R\+I\+TE}}~0
\begin{DoxyCompactList}\small\item\em Mode for writing to I2\+C/\+T\+WI device. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga6c0346728feb274834cad94daca316ee}{D\+DR}}(\+\_\+x)~($\ast$(\&\+\_\+x -\/ 1))
\begin{DoxyCompactList}\small\item\em Define address of Data Direction Register of port \+\_\+x. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga740f9eb9c9f9e33500ee61ec53945f6a}{P\+IN}}(\+\_\+x)~($\ast$(\&\+\_\+x -\/ 2))
\begin{DoxyCompactList}\small\item\em Define address of input register of port \+\_\+x. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{a00046_ga16f0e6b2fa5a26eadbf4086ab6d54467}{twi\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize T\+WI unit, enable internal pull-\/ups, and set S\+CL frequency. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{a00046_gab91653c870898cdb13d9ac0f29ed6629}{twi\+\_\+start}} (uint8\+\_\+t address, uint8\+\_\+t mode)
\begin{DoxyCompactList}\small\item\em Start communication on I2\+C/\+T\+WI bus and send address byte. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{a00046_gab45679e1a7b3b8f97b636d825e7d14f7}{twi\+\_\+write}} (uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Send one data byte to I2\+C/\+T\+WI Slave device. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{a00046_ga7a2cd23dea30ee2c99c1ccffb3402d79}{twi\+\_\+read\+\_\+ack}} (void)
\begin{DoxyCompactList}\small\item\em Read one byte from the I2\+C/\+T\+WI Slave device and acknowledge it with A\+CK, i.\+e. communication will continue. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{a00046_gaa21e972557bab9a799720874660cf152}{twi\+\_\+read\+\_\+nack}} (void)
\begin{DoxyCompactList}\small\item\em Read one byte from the I2\+C/\+T\+WI Slave device and acknowledge it with N\+A\+CK, i.\+e. communication will not continue. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{a00046_gacf52d6c93df110dee6d402b389e5042e}{twi\+\_\+stop}} (void)
\begin{DoxyCompactList}\small\item\em Generates stop condition on I2\+C/\+T\+WI bus. \end{DoxyCompactList}\end{DoxyCompactItemize}
